# üß† –®–ø–∞—Ä–≥–∞–ª–∫–∞: ESM vs CommonJS

## üì¶ –°–∏–Ω—Ç–∞–∫—Å–∏—Å

|     | ESM                         | CommonJS                    |
|-----|-----------------------------|-----------------------------|
| –ò–º–ø–æ—Ä—Ç | `import x from 'mod'`       | `const x = require('mod')`  |
| –≠–∫—Å–ø–æ—Ä—Ç | `export default x`          | `module.exports = x`        |

---

## ‚ö° –ó–∞–≥—Ä—É–∑–∫–∞

- **ESM** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (`import()`), –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –º–æ–¥—É–ª–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
- **CommonJS** ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞, –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

---

## üîß –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- **ESM**: —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–∞—Ö –∏ Node.js 14+
- **CommonJS**: —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç Node.js

---

## üî® Tree shaking

- **ESM** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç, –º–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥
- **CommonJS** ‚Äî –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç, `require` –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π

---

## üåÄ –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

- CommonJS ‚Üí ESM: –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `import()` (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)
- ESM ‚Üí CommonJS: –º–æ–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å, –Ω–æ —Ç–æ–ª—å–∫–æ `default` —ç–∫—Å–ø–æ—Ä—Ç

---

## üìÅ Dual-package (–æ–±–∞ —Ñ–æ—Ä–º–∞—Ç–∞)

```json
{
  "main": "dist/index.cjs.js",     // CommonJS
  "module": "dist/index.esm.js"    // ESM
}